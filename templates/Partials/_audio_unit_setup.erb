        super.init(avAudioNode: AVAudioNode())

        avAudioNode = instantiate(generator: "<%= four_letter_code %>")

        guard let audioUnit = avAudioNode.auAudioUnit as? AudioUnitBase else {
            fatalError("Couldn't create audio unit")
        }
        self.stop()
<% if tables.count > 0 %>
        audioUnit.setWavetable(waveform.content)
<% end -%>

<% unless tableArray.nil? -%>
        for (i, waveform) in <%= tableArray %>.enumerated() {
            audioUnit.setWavetable(waveform.content, index: i)
        }
        self.<%= tableArray %> = <%= tableArray %> 
<% end -%>
<% (tables+parameters).each do |sp_parameter| -%>
<% sp_parameter.each do  |sp_var, data| -%>
        self.<%= data["ak-variable"] %> = <%= data["ak-variable"] %>
<% end -%>
<% end -%>
